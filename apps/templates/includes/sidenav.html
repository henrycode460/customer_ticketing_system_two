{% comment %} <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"> {% endcomment %}

<style>
  
  .count-badge {
    position: absolute;
    top: -10px;
    right: -10px;
    display: inline-block;
    padding: 5px 8px;
    font-size: 10px;
    font-weight: bold;
    background-color: red;
    color: white;
    border-radius: 50%;
  }
  
  .blink {
    animation: blink 1s infinite;
  }

  .text-warning {
    color: #C80D0D !important;
}

.alert-danger {
  color: #fff;
  border-color: #C80D0D !important; 
   background-color: #C80D0D !important; 
}

  

</style>

<nav class="sidenav navbar navbar-vertical fixed-left navbar-expand-xs navbar-light bg-white" id="sidenav-main">
  <div class="scrollbar-inner">
    <!-- Brand -->
    <div class="sidenav-header align-items-center">
      <a class="navbar-brand" href="/">
        <img src="/static/assets/img/brand/logotel.png" class="navbar-brand-img" alt="Telecel Logo.">
      </a>
    </div>
    <div class="navbar-inner">
      <!-- Collapse -->
      <div class="collapse navbar-collapse" id="sidenav-collapse-main">
        <!-- Nav items -->
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link {% if 'index' in segment %} active {% endif %}" href="/index">
              <i class="ni ni-tv-2 text-danger"></i>
              <span class="nav-link-text text-warning">Dashboard</span>
            </a>
          </li>
          
          <!-- Only show the following items if the user is an admin -->
          {% if request.user.is_superuser %}
          <li class="nav-item">
            <a class="nav-link {% if 'icons' in segment %} active {% endif %}" href="/icons.html">
              <i class="ni ni-planet text-orange"></i>
              <span class="nav-link-text">Icons</span>
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link {% if 'map' in segment %} active {% endif %}" href="/map.html">
              <i class="ni ni-pin-3 text-primary"></i>
              <span class="nav-link-text">Google</span>
            </a>
          </li>
          
          
          <li class="nav-item">
            <a class="nav-link {% if 'profile' in segment %} active {% endif %}" href="/profile.html">
              <i class="ni ni-single-02 text-yellow"></i>
              <span class="nav-link-text">Profile</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link {% if 'tables' in segment %} active {% endif %}" href="/tables.html">
              <i class="ni ni-bullet-list-67 text-default"></i>
              <span class="nav-link-text">Tables</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/login.html">
              <i class="ni ni-key-25 text-info"></i>
              <span class="nav-link-text">Login (template)</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/register.html">
              <i class="ni ni-circle-08 text-pink"></i>
              <span class="nav-link-text">Register (template)</span>
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" href="{% url 'logout' %}">
              <i class="ni ni-user-run text-red"></i>
              <span class="nav-link-text">Logout</span>
            </a>
          </li>
          
          <!-- Only show the following items if the user is an admin -->
          {% elif request.user.is_customer_care %}
          
              
          <h4 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-warning">
            <span>Ticketing</span>
            <a class="link-secondary" href="#" aria-label="Add a new report">
              <span data-feather="plus-circle"></span>
            </a>
          </h4>

          <li class="nav-item">
            <a class="nav-link " href="{% url 'add_ticket' %}">
              <i class="ni ni-archive-2 text-warning"></i>


              <span class="nav-link-text text-warning">Add Ticket</span>
            </a>
          </li>

          
          <li class="nav-item">
            <a class="nav-link " href="{% url 'all_ticket_created' %}">
              <i class="ni ni-bullet-list-67 text-warning"></i>

              <span class="nav-link-text text-warning">All Ticket</span>
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link " href="{% url 'technician_complete_ticket' %}">
              <i class="ni ni-single-02 text-warning"></i>

              <span class="nav-link-text text-warning">Technician Tickets Completed</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link " href="{% url 'ticket_completed' %}">
              <i class="ni ni-check-bold text-warning"></i>

              <span class="nav-link-text text-warning">All Ticket Completed</span>
            </a>
          </li>

          <h4 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-warning">
            <span>Customer Management</span>
            <a class="link-secondary" href="#" aria-label="Add a new report">
              <span data-feather="plus-circle"></span>
            </a>
          </h4>

          <li class="nav-item">
            <a class="nav-link " href="{% url 'customer_queue' %}">
              <i class="ni ni-single-02 text-warning"></i>

              <span class="nav-link-text text-warning">All Customer</span>
            </a>
          </li>

          <h4 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-warning">
            <span>Advance</span>
            <a class="link-secondary" href="#" aria-label="Add a new report">
              <span data-feather="plus-circle"></span>
            </a>
          </h4>

          <li class="nav-item">
            <a class="nav-link " href="{% url 'user_activity_log' %}">
              <i class="ni ni-settings-gear-65 text-warning"></i>

              <span class="nav-link-text text-warning">Activities Log</span>
            </a>
          </li>


          

          <!-- Only show the following items if the user is technician -->
          {% elif request.user.is_technician %}
          
               
          <h4 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-warning">
            <span>Ticketing</span>
            <a class="link-secondary" href="#" aria-label="Add a new report">
              <span data-feather="plus-circle"></span>
            </a>
          </h4>
          <li class="nav-item">
            <a class="nav-link " href="{% url 'ticket_queue' %}">
              <i class="ni ni-bullet-list-67 text-warning"></i>

              <span class="nav-link-text text-warning">Ticket Queue</span>
            </a>
          </li>

          <li class="nav-item">
            {% comment %} <a class="nav-link " href="{% url 'ticket_queue' %}"> {% endcomment %}
              <a class="nav-link" href="{% url 'ticket_in_progress' %}">
                <i class="ni ni-send text-warning"></i>





              <span class="nav-link-text text-warning">Ticket In Progress</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="{% url 'ticket_to_claim_tech' %}">
              <span class="position-relative">
                <i class="ni ni-circle-08 text-warning"></i>

                {% if ticketUnassigned.count > 0 %}
                  <span class="count-badge blink">{{ ticketUnassigned.count }}</span>
                {% endif %}
              </span>
              <span class="ml-3 nav-link-text text-warning">Unassigned Tickets</span>
            </a>
          </li>

          <h4 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-warning">
            <span>Advance</span>
            <a class="link-secondary" href="#" aria-label="Add a new report">
              <span data-feather="plus-circle"></span>
            </a>
          </h4>

          <li class="nav-item">
            <a class="nav-link " href="{% url 'user_activity_log' %}">
              <i class="ni ni-settings-gear-65 text-warning"></i>
              <span class="nav-link-text text-warning">Activities Log</span>
            </a>
          </li>

          

            <!-- Only show the following items if the user is Admin -->
            {% elif request.user.is_admin  %}

                  
          <h4 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-warning">
            <span>User Management</span>
            <a class="link-secondary" href="#" aria-label="Add a new report">
              <span data-feather="plus-circle"></span>
            </a>
          </h4>

            <li class="nav-item">
              <a class="nav-link " href="{% url  'register' %}">
                <i class="ni ni-single-02 text-warning"></i>

  
                <span class="nav-link-text text-warning">Register user</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link " href="{% url 'user_queue' %}">
                <i class="ni ni-single-02 text-warning"></i>

  
                <span class="nav-link-text text-warning">All Users</span>
              </a>
            </li>

            

            <li class="nav-item">
              <a class="nav-link " href="{% url 'user_activities' %}">
                <i class="ni ni-single-02 text-warning"></i>

  
                <span class="nav-link-text text-warning">User Activities Log</span>
              </a>
            </li>

           

                  
          <h4 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-warning">
            <span>Ticketing</span>
            <a class="link-secondary" href="#" aria-label="Add a new report">
              <span data-feather="plus-circle"></span>
            </a>
          </h4> 


          <li class="nav-item">
            <a class="nav-link " href="{% url 'add_ticket' %}">
              <i class="ni ni-archive-2 text-warning"></i>


              <span class="nav-link-text text-warning">Add Ticket</span>
            </a>
          </li>

          
          <li class="nav-item">
            <a class="nav-link " href="{% url 'ticket_report' %}">
              <i class="ni ni-bullet-list-67 text-warning"></i>

              <span class="nav-link-text text-warning">All Ticket</span>
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link " href="{% url 'technician_complete_ticket_admin' %}">
              <i class="ni ni-single-02 text-warning"></i>

              <span class="nav-link-text text-warning">Technician Tickets Completed</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link " href="{% url 'ticket_completed' %}">
              <i class="ni ni-check-bold text-warning"></i>

              <span class="nav-link-text text-warning">All Ticket Completed</span>
            </a>
          </li>

          

          <h4 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-warning">
            <span>Customer Management</span>
            <a class="link-secondary" href="#" aria-label="Add a new report">
              <span data-feather="plus-circle"></span>
            </a>
          </h4>

          <li class="nav-item">
            <a class="nav-link " href="{% url 'customer_queue' %}">
              <i class="ni ni-single-02 text-warning"></i>

              <span class="nav-link-text text-warning">All Customer</span>
            </a>
          </li>

          <h4 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-warning">
            <span>Advance</span>
            <a class="link-secondary" href="#" aria-label="Add a new report">
              <span data-feather="plus-circle"></span>
            </a>
          </h4>


          <li class="nav-item">
            <a class="nav-link " href="{% url 'user_activity_log' %}">
              <i class="ni ni-settings-gear-65 text-warning"></i>

              <span class="nav-link-text text-warning">Activities Log</span>
            </a>
          </li>
            
         

          <!-- Only show the following items if the user is Admin -->
          {% elif request.user.is_supervisor %}

          <li class="nav-item">
            <a class="nav-link "  href="{% url 'pending_leave' %}">
              <i class="ni ni-support-16 text-success"></i>
              <span class="nav-link-text">Pending Leave</span>
            </a>
          </li>

          {% comment %} <li class="nav-item">
            <a class="nav-link "  href="{% url 'approved_leave' %}">
              <i class="ni ni-support-16 text-success"></i>
              <span class="nav-link-text">Approved Leave</span>
            </a>
          </li> {% endcomment %}
          <li class="nav-item">
            <a class="nav-link "  href="{% url 'leave_queue' %}">
              <i class="ni ni-support-16 text-success"></i>
              <span class="nav-link-text">All Leave</span>
            </a>
          </li>
          
       {% elif  request.user.is_employe %}

       <li class="nav-item">
        <a class="nav-link" href="{% url 'create_leave' %}">
          <span data-feather="shopping-cart"></span>
         Request Leave
        </a>
      </li>
     
      <li class="nav-item">
        <a class="nav-link "  href="{% url 'leave_created' %}">
          <i class="ni ni-support-16 text-success"></i>
          <span class="nav-link-text">Leave Created</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link "  href="{% url 'approved_leave' %}">
          <i class="ni ni-support-16 text-success"></i>
          <span class="nav-link-text">Approved Leave</span>
        </a>
      </li>

        </ul>



        <!-- Divider -->
        <hr class="my-3">
        <!-- Heading -->
        <h6 class="navbar-heading p-0 text-muted">
          <span class="docs-normal"></span>
        </h6>
        <!-- Navigation -->
        <ul class="navbar-nav mb-md-3">

        </ul>
        {% endif %}
      </div>
    </div>
  </div>
</nav>

